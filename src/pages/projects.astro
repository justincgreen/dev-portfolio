---
import Layout from '../layouts/Layout.astro';
import CardGrid from '../components/CardGrid.astro';
import Card from '../components/Card.astro';
import Badge from '../components/Badge.astro';
import Button from '../components/Button.astro';
import Modal from '../components/Modal.astro';

const cardArray = [
  {
   src: "https://fastly.picsum.photos/id/866/536/354.jpg?hmac=tGofDTV7tl2rprappPzKFiZ9vDh5MKj39oa2D--gqhA",
   url: "https://rapid-two.vercel.app/",
   title: "Rapid",
   description: "Prototype UI Builder", 
   badgeMeta: [{label: "Proof of Concept"}, {label: "React"}] 
  },
  {
    src: "https://fastly.picsum.photos/id/866/536/354.jpg?hmac=tGofDTV7tl2rprappPzKFiZ9vDh5MKj39oa2D--gqhA",
     url: "https://coin-pouch.vercel.app/",
     title: "Coin Pouch",
     description: "Cryptocurrency market data",     
     badgeMeta: [{label: "React"}] 
  },
  {
    src: "https://fastly.picsum.photos/id/866/536/354.jpg?hmac=tGofDTV7tl2rprappPzKFiZ9vDh5MKj39oa2D--gqhA",
     url: "https://github.com/justincgreen",
     title: "Card Title 3",
     description: "Card Description",
     badgeMeta: [{label: "React"}]
  }
];
---

<Layout title="Justin Green | Developer">
  <main class="u-margin--top--lg">    
    <div class="l-container l-container--lg">
      <div class="u-fade-up">
        <h1 class="font-color--green font-size--jumbo u-text--center u-padding--bottom--md">Projects</h1>                        
        <CardGrid>
          {
            cardArray.map((card) => (
              <Card
                src={card.src}
                /*url={card.url}*/
                title={card.title}
                description={card.description}
              >
                
                <div class="c-card__badge-group">
                  {
                    (() => {        
                      return card.badgeMeta.map((item) => (
                        <Badge>
                          {item.label}
                        </Badge> 
                      ));        
                    })()
                  }
                </div>
                
                <!-- <Button text="Learn More" /> -->
              </Card>
            ))
          }
        </CardGrid>
      </div>
    </div>
    
    <Modal />
  </main>
</Layout>

<script>
  const cards = document.querySelectorAll('.c-card');
  const modal = document.querySelector('.c-modal');;
  const modalCard = document.querySelector('.c-modal__card');;
  
  cards.forEach((card) => {
    card.addEventListener('click', () => {
      modal.classList.toggle('is-active');
      modalCard.classList.toggle('u-scale');
    });
  });
</script>

<style lang="scss">

</style>